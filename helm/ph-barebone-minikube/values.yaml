ph-ee-engine:
  camunda-platform:
    global:
      elasticsearch:
        host: "ph-ee-elasticsearch"
#    zeebe:
#      javaOpts: "-Xms2g -Xmx2g -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:MaxRAMPercentage=25.0 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -XX:+PrintFlagsFinal"
    elasticsearch:
      enabled: false

  elasticsearch:
    enabled: false
    replicas: 1
#    imageTag: 7.13.2
    minimumMasterNodes: 1

    #Single Node Solution
    clusterHealthCheckParams: "wait_for_status=yellow&timeout=100s"

    # Shrink default JVM heap.
    esJavaOpts: "-Xmx512m -Xms512m"

    # Allocate smaller chunks of memory per pod.
    resources:
      requests:
        cpu: "200m"
        memory: "1024M"
      limits:
        cpu: "1000m"
        memory: "1024M"
    volumeClaimTemplate:
      accessModes: [ "ReadWriteOnce" ]
      resources:
        requests:
          storage: 10Gi

  kibana:
    enabled: false
    imageTag: 7.13.2
    ingress:
      enabled: false

    kibanaConfig:
      kibana.yml: |
        monitoring.enabled: false

  operations:
    enabled: true


  ph_ee_connector_ams_mifos:
    enabled: false
    SPRING_PROFILES_ACTIVE: "fin12,bb"
    ingress:
      enabled: false

  ph_ee_connector_mojaloop:
    SPRING_PROFILES_ACTIVE: "bb"
    ingress:
      enabled: false

  channel:
    image: docker.io/openmf/ph-ee-connector-channel:latest
    redis:
      idempotency:
        enabled: false
    enabled: false
    SPRING_PROFILES_ACTIVE: "bb"
    ingress:
      enabled: false
    resources:
      limits:
        memory: "256M"
        cpu: "100m"
      requests:
        memory: "128M"
        cpu: "100m"

  operations_app:
    enabled: true
    SPRING_PROFILES_ACTIVE: "bb"
    ingress:
      enabled: false
    resources:
      limits:
        memory: "512M"
        cpu: "500m"
      requests:
        memory: "128M"
        cpu: "100m"


  mpesa:
    enabled: false
    ingress:
      enabled: false

  ph_ee_connector_gsma:
    enabled: false
    ingress:
      enabled: false

  operationsmysql:
    auth:
      database: "tenants"
      username: "mifos"
      password: "password"
      rootPassword: "ethieTieCh8ahv"
    initdbScripts:
      setup.sql: |-
        CREATE DATABASE messagegateway;
        CREATE DATABASE `rhino`;
        CREATE DATABASE `gorilla`;
        CREATE DATABASE `identity_account_mapper`;
        CREATE DATABASE `voucher_management`;
        GRANT ALL PRIVILEGES ON `rhino`.* TO 'mifos';
        GRANT ALL PRIVILEGES ON `gorilla`.* TO 'mifos';
        GRANT ALL ON *.* TO 'root'@'%';
        GRANT ALL PRIVILEGES ON messagegateway.* TO 'mifos';
        GRANT ALL PRIVILEGES ON `identity_account_mapper`.* TO 'mifos';
        GRANT ALL PRIVILEGES ON `voucher_management`.* TO 'mifos';

  kafka:
    enabled: false
    image: "spotify/kafka"
    advertised:
      host: "kafka"
      port: "9092"
    deployment:
      annotations:
        deployTime: "{{ .Values.deployTime }}"

  notifications:
    enabled: false
    ingress:
      enabled: false

  operations_web:
    enabled: false
    ingress:
      enabled: false

  redis:
    enabled: false


  importer_rdbms:
    enabled: false

  importer_es:
    image: docker.io/openmf/ph-ee-importer-es:latest
    enabled: false

  mockpayment:
    enabled: false
    ingress:
      enabled: false

  zeebe_ops:
    enabled: false
    tenants: "rhino,gorilla"
    resources:
      limits:
        memory: "512M"
        cpu: "500m"
      requests:
        memory: "256M"
        cpu: "100m"